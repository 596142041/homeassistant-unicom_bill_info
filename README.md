# 联通话费信息集成
# 本集成由AI参与生成

## 简介
本集成用于在 Home Assistant 中展示联通话费信息，包括话费余额、剩余流量、剩余通话时间等。通过输入联通账号的 OpenID，定时从联通接口获取最新的话费和使用情况信息。

## 安装
### HACS 安装（推荐）
1.  确保你已经在 Home Assistant 中安装并配置了 HACS（Home Assistant Community Store）。
2.  点击 HACS 界面左上角的菜单，选择 `自定义仓库（Custom repositories）`，在弹出的窗口中输入仓库地址 `https://github.com/hlhk2017/homeassistant-unicom_bill_info`，类别选择 `集成`，然后点击 `添加`。之后再搜索 `联通话费信息` 即可找到。
3.  选择 `联通话费信息` 集成，点击 `下载此存储库`。
4.  下载完成后，重启 Home Assistant。

### 手动安装
1.  下载本集成的代码。
2.  将 `unicom_bill_info` 文件夹复制到 Home Assistant 的 `custom_components` 目录下。
3.  重启 Home Assistant。

## 配置
### 步骤
1.  打开 Home Assistant 的前端界面。
2.  进入 `配置` -> `集成`。
3.  点击 `添加集成`，搜索 `联通话费信息`。
4.  在配置表单中输入以下信息：
    * **名称**：用于标识该集成的名称，可自定义，默认为 `联通数据`。
    * **OpenID**：联通账号的 OpenID，用于访问联通接口获取信息。
    * **刷新间隔（分钟）**：设置数据刷新的时间间隔，默认为 `15` 分钟，可设置范围为 1 到 60 分钟。
    * **创建独立传感器**：一个布尔值选项，如果设置为 `True`，将创建额外的独立传感器实体，用于更细致地展示语音总量、流量总量、总欠费等信息。默认为 `False`。
5.  点击 `提交` 完成配置。

## 设备和实体
配置完成后，会在 Home Assistant 中创建一个设备，名称为你在配置中设置的名称。该设备下包含多个传感器实体，用于展示不同的话费和使用情况信息。

* **默认创建的传感器实体:**
    * `[名称] 语音用量`：显示已使用的通话分钟数。额外属性包括总量、超出、可用和使用比例。
    * `[名称] 短信用量`：显示已使用的短信条数。额外属性包括总量、超出、可用和使用比例。
    * `[名称] 流量用量`：显示已使用的流量（MB/GB）。额外属性包括总量、超出、可用和使用比例。
    * `[名称] 余额`：显示可用余额。额外属性包括当前余额、可用余额、总欠费、实时话费、信用额度、可用赠款等。

* **启用“创建独立传感器”后额外创建的传感器实体:**
    * `[名称] 语音总量`：套餐内的总通话时间。
    * `[名称] 语音可用`：剩余可用的通话时间。
    * `[名称] 语音使用比例`：已用通话时间占总通话时间的百分比。
    * `[名称] 短信总量`：套餐内的总短信条数。
    * `[名称] 短信可用`：剩余可用的短信条数。
    * `[名称] 流量总量`：套餐内的总流量。
    * `[名称] 流量可用`：剩余可用的流量。
    * `[名称] 流量超出`：超出的流量。
    * `[名称] 流量使用比例`：已用流量占总流量的百分比。
    * `[名称] 总欠费`：总的欠费金额。
    * `[名称] 信用额度`：信用额度。
    * `[名称] 实时话费`：实时话费金额。
    * `[名称] 可用赠款`：可用的赠款金额。

## 注意事项
* 请确保输入的 OpenID 正确，否则可能无法获取到有效的信息。
* 刷新间隔可根据个人需求进行调整，但不宜设置过短，以免对联通接口造成过大压力。

## 支持与反馈
如果你在使用过程中遇到任何问题或有建议，请在代码库的 `Issues` 中提交反馈。

## 版本信息
当前版本：1.0.0

## 许可证
本集成遵循 [GPL-3.0] 许可证。请查看代码库中的 `LICENSE` 文件以获取详细信息。
